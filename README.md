
# KuiperInfer (è‡ªåˆ¶æ·±åº¦å­¦ä¹ æ¨ç†æ¡†æ¶)

![](https://github.com/zjhellofss/kuiperinfer/actions/workflows/cmake.yml/badge.svg)

![](./imgs/logo.jpg)

å¸¦é¢†ä½ äº²æ‰‹æ‰“é€ ä¸€ä¸ªæ·±åº¦å­¦ä¹ æ¨ç†æ¡†æ¶ã€‚å…³æ³¨æˆ‘çš„[Bç«™ç©ºé—´](https://space.bilibili.com/1822828582)ï¼Œè·å–æœ€æ–°è§†é¢‘æ›´æ–°ã€‚

è·Ÿéšæœ¬é¡¹ç›®ï¼Œä»é›¶å¼€å§‹è‡ªåˆ¶æ·±åº¦å­¦ä¹ æ¨ç†æ¡†æ¶ï¼Œä½ å°†æœ‰ä»¥ä¸‹æ”¶è·ï¼š
1. å­¦ä¹ ä¸€ä¸ªæ·±åº¦å­¦ä¹ æ¡†æ¶èƒŒåçš„çŸ¥è¯†ï¼ŒæŒæ¡ç°ä»£C++é¡¹ç›®çš„å†™æ³•ï¼Œè°ƒè¯•æŠ€å·§å’Œå·¥ç¨‹ç»éªŒï¼›
2. å¦‚ä½•è®¾è®¡ã€ç¼–å†™ä¸€ä¸ªè®¡ç®—å›¾ï¼›
3. å®ç°å¸¸è§çš„ç®—å­ï¼Œå·ç§¯ç®—å­ã€æ± åŒ–ç®—å­ã€å…¨è¿æ¥ç®—å­ç­‰ï¼›
4. åœ¨3çš„åŸºç¡€ä¸Šï¼Œå­¦ä¼šå¸¸è§çš„ä¼˜åŒ–æ‰‹æ®µåŠ é€Ÿç®—å­çš„æ‰§è¡Œï¼›
5. æœ€åä½ å°†è·å¾—ä¸€ä¸ªå±äºè‡ªå·±çš„æ¨ç†æ¡†æ¶ï¼Œå¯ä»¥æ¨ç†resnet, unet, yolov5, mobilenetç­‰æ¨¡å‹ï¼Œå¯¹é¢è¯•å’ŒçŸ¥è¯†è¿›é˜¶å¤§æœ‰è£¨ç›Šã€‚

**è§†é¢‘è¯¾ç¨‹é“¾æ¥ï¼š**[https://space.bilibili.com/1822828582](https://space.bilibili.com/1822828582)

## å¯¹llamaçš„æ”¯æŒ
> æˆ‘ä»¬å°†[llama.c](https://github.com/karpathy/llama2.c )ä¸­çš„ç®—å­æ›¿æ¢ä¸ºäº†KuiperInferä¸­çš„å®ç°

[æ¨¡å‹ä¸‹è½½é“¾æ¥](https://pan.baidu.com/s/1PF5KqvIvNFR8yDIY1HmTYA?pwd=ma8r ) ä¸‹è½½åæ›¿æ¢åˆ°demos/llama2/main.cppä¸­


![a.gif](imgs/a.gif)

## ç¬¬äºŒæ¬¡è¯¾ç¨‹å¤§çº²

ç¬¬äºŒæ¬¡è¯¾ç¨‹æ˜¯ç¬¬ä¸€æ¬¡è¯¾ç¨‹çš„é‡ç½®ç‰ˆï¼Œå†…å®¹æ›´åŠ å……å®å’Œå®Œå–„ï¼Œç¬¬ä¸€æ¬¡è¯¾ç¨‹å¤§çº²è§ä¸‹æ–¹ç« èŠ‚ã€‚

| è¯¾ç¨‹èŠ‚æ•°                                              | è¿›åº¦  | è¯¾ç¨‹é“¾æ¥                                    |
| ----------------------------------------------------- |-----| ------------------------------------------- |
| **ç¬¬ä¸€è®²** é¡¹ç›®é¢„è§ˆå’Œç¯å¢ƒé…ç½®                         | å®Œæˆ  | https://www.bilibili.com/video/BV118411f7yM |
| **ç¬¬äºŒè®²** å¼ é‡(Tensor)çš„è®¾è®¡ä¸å®ç°                   | å®Œæˆ  | https://www.bilibili.com/video/BV1hN411k7q7 |
| **ç¬¬ä¸‰è®²** è®¡ç®—å›¾çš„å®šä¹‰                               | å®Œæˆ  | https://www.bilibili.com/video/BV1vc411M7Yp |
| **ç¬¬å››è®²** æ„å»ºè®¡ç®—å›¾å…³ç³»å’Œæ‰§è¡Œé¡ºåº                   | å®Œæˆ  | https://www.bilibili.com/video/BV19s4y1r7az |
| **ç¬¬äº”è®²** KuiperInferä¸­çš„ç®—â¼¦å’Œæ³¨å†Œâ¼¯â¼š                 | å®Œæˆ  | https://www.bilibili.com/video/BV1gx4y1o7pj |
| **ç¬¬å…­è®²** å·ç§¯å’Œæ± åŒ–ç®—å­çš„å®ç°                       | å®Œæˆ  | https://www.bilibili.com/video/BV1hx4y197dS |
| **ç¬¬ä¸ƒè®²** è¡¨è¾¾å¼å±‚ä¸­è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æä»¥åŠç®—å­çš„å®ç° | å®Œæˆ  | https://www.bilibili.com/video/BV1j8411o7ao |
| **ç¬¬å…«è®²** è‡ªåˆ¶æ¨ç†æ¡†æ¶æ”¯æŒResnetç½‘ç»œçš„æ¨ç†           | å®Œæˆ  | https://www.bilibili.com/video/BV1o84y1o7ni |
| **ç¬¬ä¹è®²** è‡ªåˆ¶æ¨ç†æ¡†æ¶æ”¯æŒYoloV5ç½‘ç»œçš„æ¨ç†           | å®Œæˆ  |    https://www.bilibili.com/video/BV1Qk4y1A7XL                                        |


## çŸ¥ä¹ä¸“æ ï¼ˆæ›´æ–°ä¸­ï¼‰
<a href="https://www.zhihu.com/column/c_1682405983161356288"> <img src="https://is1-ssl.mzstatic.com/image/thumb/Purple116/v4/8c/ec/b0/8cecb054-1279-1b92-668b-46e371b9f65f/AppIcon-0-0-1x_U007emarketing-0-0-0-6-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/1200x630wa.png" height="200" width="400" /> </a>

## Demoæ•ˆæœ

### Unetè¯­ä¹‰åˆ†å‰²

> ğŸ¥° KuiperInferå½“å‰å·²æ”¯æŒUnetç½‘ç»œçš„æ¨ç†ï¼Œé‡‡ç”¨[carvanaçš„é¢„è®­ç»ƒæƒé‡](https://github.com/milesial/Pytorch-UNet)

![](https://imgur.com/FDXALEa.jpg)
![](https://imgur.com/hbbZeoT.jpg)

æ¨ç†å¤ç°å¯å‚è€ƒæ–‡æœ«çš„ **è¿è¡Œ Kuiper çš„ demo**

### Yolov5ç›®æ ‡æ£€æµ‹

> Demoç›´æ¥ä½¿ç”¨yolov5-sçš„é¢„è®­ç»ƒæƒé‡(cocoæ•°æ®é›†)ï¼Œä½¿ç”¨KuiperInferæ¨ç†

![](./imgs/demo_car.jpg)



## ç¬¬ä¸€æ¬¡è¯¾ç¨‹å¤§çº²

æˆ‘åœ¨bç«™ä¸Šå¼€äº†ä¸€é—¨æ•™å­¦è¯¾ç¨‹ï¼Œç›®å‰æ˜¯è¯¾ç¨‹çš„å‰13æ¬¡è¯¾ç¨‹ã€‚è¯¾ç¨‹å¤§çº²å¦‚ä¸‹ï¼Œä¸»é¡µæ˜¯: https://space.bilibili.com/1822828582 , æ¬¢è¿å¤§å®¶å…³æ³¨æ”¯æŒã€‚**è¿›å­¦ä¹ ç¾¤çš„æ–¹å¼å¦‚ä¸Šå›¾çš„äºŒç»´ç ã€‚**

| è¯¾ç¨‹èŠ‚æ•°   | ä¸»è¦å†…å®¹                                                   | è¿›åº¦ | è¯¾ç¨‹é“¾æ¥                                     |
| ---------- | ---------------------------------------------------------- | ---- | -------------------------------------------- |
| ç¬¬ä¸€æ¬¡è¯¾   | æ•´ä½“æ¡†æ¶è§£è¯»å’Œå¼€å‘ç¯å¢ƒé…ç½®                                 | å®Œæˆ | https://www.bilibili.com/video/BV1HV4y1A7H8/ |
| ç¬¬äºŒæ¬¡è¯¾   | å¼ é‡Tensorç±»çš„è§£æå’Œè¾“å…¥æ•°æ®çš„å†…å­˜æ’å¸ƒ                     | å®Œæˆ | https://www.bilibili.com/video/BV1Ed4y1v7Gb/ |
| ç¬¬ä¸‰æ¬¡è¯¾   | ä»CSVæ–‡ä»¶ä¸­åˆå§‹åŒ–å¼ é‡Tensorä¸€ä¸ªå®ä¾‹                        | å®Œæˆ | https://www.bilibili.com/video/BV1Pg411J7V5/ |
| ç¬¬å››æ¬¡è¯¾   | æ‰‹å†™ç¬¬ä¸€ä¸ªç®—å­Reluå¹¶å®Œæˆç®—å­æ³¨å†Œå·¥å‚ç±»                     | å®Œæˆ | https://www.bilibili.com/video/BV1bG4y1J7sQ/ |
| ç¬¬äº”æ¬¡è¯¾   | Im2colçš„åŸç†å’Œå·ç§¯ç®—å­çš„å®ç°                               | å®Œæˆ | https://www.bilibili.com/video/BV1F841137Ct  |
| ç¬¬å…­æ¬¡è¯¾   | ç…§çŒ«ç”»è™ï¼Œå®ŒæˆMaxPoolingç®—å­                               | å®Œæˆ | https://www.bilibili.com/video/BV1m3411S7yy  |
| ç¬¬ä¸ƒæ¬¡è¯¾   | å›¾ç»“æ„(PNNX)è®²è§£å’Œè®¡ç®—å›¾åˆæ­¥                               | å®Œæˆ | https://www.bilibili.com/video/BV1VW4y1V7vp  |
| ç¬¬å…«æ¬¡è¯¾   | è¯»å–PNNXå¹¶æ„å»ºè‡ªå·±çš„è®¡ç®—å›¾                                 | å®Œæˆ | https://www.bilibili.com/video/BV1HY4y1Z7S3  |
| ç¬¬ä¹æ¬¡è¯¾   | å·ç§¯ç®—å­çš„å®ç°å’Œim2colåŠ é€Ÿè®¡ç®—çš„åŸç†                       | å®Œæˆ | https://www.bilibili.com/video/BV1F841137Ct  |
| ç¬¬åæ¬¡è¯¾   | å†æ¢Tensorç±»ï¼Œæ„å»ºè®¡ç®—å›¾çš„å›¾å…³ç³»ä»¥åŠå¯¹ç®—å­çš„è¾“å…¥è¾“å‡ºé¢„åˆ†é… | å®Œæˆ | https://www.bilibili.com/video/BV1M54y1K7AG  |
| ç¬¬åä¸€æ¬¡è¯¾ | ç®—å­çš„æ‰§è¡Œæµç¨‹                                             | å®Œæˆ | https://www.bilibili.com/video/BV1wY411C7Kv  |
| ç¬¬åäºŒæ¬¡è¯¾ | ç”¨æˆ‘ä»¬è‡ªåˆ¶çš„æ¨ç†æ¡†æ¶å®ŒæˆResNetç½‘ç»œçš„æ¨ç†å’Œå›¾ç‰‡çš„åˆ†ç±»       | å®Œæˆ | https://www.bilibili.com/video/BV1jD4y1M772  |
| ç¬¬åä¸‰æ¬¡è¯¾ | ç”¨è‡ªåˆ¶çš„æ¨ç†æ¡†æ¶æ”¯æŒYolov5æ¨¡å‹çš„æ¨ç†                       | å®Œæˆ | https://www.bilibili.com/video/BV1xs4y1J7t2  |


## é¡¹ç›®è´¡çŒ®

### è´¡çŒ®è€…åˆ—è¡¨

æ„Ÿè°¢ä»¥ä¸‹åŒå­¦å¯¹Kuiperinferçš„ä»˜å‡º
- [zjhellofss](https://github.com/zjhellofss)
- [liuxubit](https://github.com/liuxubit)
- [Azusachan](https://github.com/Azusachan)
- [wfs2010](https://github.com/wfs2010)
- [mlmz](https://github.com/minleminzui)
- [Tigerrr07](https://github.com/Tigerrr07)
- [zyt1024](https://github.com/zyt1024)
- [zpye](https://github.com/zpye)
- [cmcamdy](https://github.com/cmcamdy)
- [superCB](https://github.com/SuperCB)
- [sanbuphy](https://github.com/sanbuphy)
- [TypeFloat](https://github.com/TypeFloat)
- [Jasmine-up](https://github.com/Jasmine-up)
- [PerrySkywalker](https://github.com/PerrySkywalker)

### å¦‚ä½•å‚ä¸é¡¹ç›®è´¡çŒ®ï¼Ÿ
1. æäº¤ä»£ç å¢åŠ æ–°åŠŸèƒ½æˆ–ä¿®æ”¹bugï¼›
2. æå‡ºç‰¹åˆ«æœ‰ç”¨çš„å»ºè®®ï¼›
3. å®Œå–„æ–‡æ¡£æˆ–å¢åŠ å•å…ƒæµ‹è¯•ã€‚

### æœ¬é¡¹ç›®å’Œè§†é¢‘è¯¾ç¨‹çš„å…³ç³»
- æœ¬é¡¹ç›®ç›¸å½“äºè¯¾ç¨‹çš„ä¸Šæ¸¸æˆ–è€…é¢„ç ”é¡¹ç›®

- è¿™é‡Œçš„æ¯ä¸€ä¸ªåŠŸèƒ½éƒ½æœ‰å¯èƒ½æˆä¸ºè§†é¢‘è¯¾ç¨‹ä¸­çš„çŸ¥è¯†ç‚¹ï¼Œæ— è®ºæ˜¯æˆ‘å¼€å‘çš„è¿˜æ˜¯å…¶ä»–åŒå­¦å®Œå–„çš„ã€‚

## ä½¿ç”¨çš„æŠ€æœ¯å’Œå¼€å‘ç¯å¢ƒ
* å¼€å‘è¯­è¨€ï¼šC++ 17
* æ•°å­¦åº“ï¼šArmadillo + OpenBlas(æˆ–è€…æ›´å¿«çš„Intel MKL)
* åŠ é€Ÿåº“ï¼šOpenMP
* å•å…ƒæµ‹è¯•ï¼šGoogle Test
* æ€§èƒ½æµ‹è¯•ï¼šGoogle Benchmark

## å®‰è£…è¿‡ç¨‹(ä½¿ç”¨Docker)
1. docker pull registry.cn-hangzhou.aliyuncs.com/hellofss/kuiperinfer:latest
2. sudo docker run -t -i registry.cn-hangzhou.aliyuncs.com/hellofss/kuiperinfer:latest /bin/bash
3. cd code 
4. git clone --recursive https://github.com/zjhellofss/KuiperInfer.git 
5. cd KuiperInfer
6. **git checkout -b ä½ çš„æ–°åˆ†æ”¯ study_version_0.02 (å¦‚æœæƒ³æŠ„æœ¬é¡¹ç›®çš„ä»£ç ï¼Œè¯·ä½¿ç”¨è¿™ä¸€æ­¥åˆ‡æ¢åˆ°study tag)**
7. mkdir build 
8. cd build 
9. cmake -DCMAKE_BUILD_TYPE=Release -DDEVELOPMENT=OFF .. 
10. make -j$(nproc)

**Tips:**

1. **å¦‚æœéœ€è¦å¯¹KuiperInferè¿›è¡Œå¼€å‘**ï¼Œè¯·ä½¿ç”¨ git clone  --recursive https://github.com/zjhellofss/KuiperInfer.git åŒæ—¶ä¸‹è½½å­æ–‡ä»¶å¤¹tmp, å¹¶åœ¨cmakeæ–‡ä»¶ä¸­è®¾ç½®`$DEVELOPMENT`æˆ–è€…æŒ‡å®š`-DDEVELOPMENT=ON`
2. **å¦‚æœå›½å†…ç½‘é€Ÿå¡é¡¿**ï¼Œè¯·ä½¿ç”¨ git clone https://gitee.com/fssssss/KuiperInferGitee.git 
3. **å¦‚æœæƒ³è·å¾—æ›´å¿«åœ°è¿è¡Œä½“éªŒ**ï¼Œè¯·åœ¨æœ¬æœºé‡æ–°ç¼–è¯‘openblasæˆ–apt install intel-mkl

## å®‰è£…è¿‡ç¨‹(æ„å»ºDockeré•œåƒ)
1. docker build -t kuiperinfer:latest .
2. docker run --name kuiperinfer -it kuiperinfer:latest /bin/bash
3. cd /app
4. ä½™ä¸‹æ­¥éª¤å‚è€ƒä¸Šè¿°å®‰è£…è¿‡ç¨‹çš„æ­¥éª¤4-10

##  å®‰è£…è¿‡ç¨‹(ä¸ä½¿ç”¨docker)
1. git clone --recursive https://github.com/zjhellofss/KuiperInfer.git
2. **git checkout -b ä½ çš„æ–°åˆ†æ”¯ study_version_0.01 (å¦‚æœæƒ³æŠ„æœ¬é¡¹ç›®çš„ä»£ç ï¼Œè¯·ä½¿ç”¨è¿™ä¸€æ­¥åˆ‡æ¢åˆ°study tag)**
3. å®‰è£…å¿…è¦ç¯å¢ƒ(openblasæ¨èç¼–è¯‘å®‰è£…ï¼Œå¯ä»¥è·å¾—æ›´å¿«çš„è¿è¡Œé€Ÿåº¦ï¼Œæˆ–è€…ä½¿ç”¨apt install intel-mklæ›¿ä»£openblas)
```shell
 apt install cmake, libopenblas-dev, liblapack-dev, libarpack-dev, libsuperlu-dev
```
4. ä¸‹è½½å¹¶ç¼–è¯‘armadillo https://arma.sourceforge.net/download.html
5. ç¼–è¯‘å®‰è£…glog\google test\google benchmark
6. ä½™ä¸‹æ­¥éª¤å’Œä¸Šè¿°ä¸€è‡´

**Tips:**
1. google benchmarkç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°å…³äºgtestç¼ºå¤±çš„æŠ¥é”™ï¼Œå¯ä»¥åœ¨google benchmarkçš„cmakeä¸­å…³é—­gtesté€‰é¡¹

## è¿è¡Œ Kuiper çš„ demo

### è¿è¡ŒUnetçš„æ¨ç†

è¯·åœ¨ç¼–è¯‘åå¤åˆ¶ `tmp/unet/demo` æ–‡ä»¶å¤¹ä¸‹çš„ test.png å›¾ç‰‡ç»å¯¹åœ°å€æˆ–ç›¸å¯¹åœ°å€ï¼Œ
éšååœ¨ `build/demos` ä¸­æŒ‰ä¸‹åˆ—æ ¼å¼è¿è¡Œæ¨ç†ç¨‹åº

```bash
./unet_test test.png unet_demo.pnnx.param unet_demo.pnnx.bin
```

å…¶ä¸­ pnnx æ¨¡å‹çš„ä¸‹è½½åœ°å€ï¼šhttps://cowtransfer.com/s/09c7f337bab443

è‹¥æ¨ç†æˆåŠŸï¼Œä½ å°†ä¼šåœ¨æ–‡ä»¶å¤¹å†…çœ‹åˆ°åŸå›¾çš„åˆ†å‰²åç»“æœ unet_output.jpg .

### è¿è¡ŒYolov5çš„æ¨ç†

è¯·åœ¨demosæ–‡ä»¶å¤¹ä¸‹çš„yolo_test.cppæ–‡ä»¶å¤¹ä¸­ä»¥ä¸‹ä»£ç è¿›è¡Œä¿®æ”¹

```cpp
const std::string& image_path = "imgs/car.jpg";
const std::string& param_path = "tmp/yolo/demo/yolov5s_batch8.pnnx.param";
const std::string& bin_path = "tmp/yolo/demo/yolov5s_batch8.pnnx.bin";
```

- `image_path`æŒ‡å®šå›¾åƒç›®å½•ï¼Œ`param_path`ä¸ºæ¨¡å‹çš„å‚æ•°æ–‡ä»¶ï¼Œ`bin_path`ä¸ºæ¨¡å‹çš„æƒé‡æ–‡ä»¶ï¼Œè¯·æ›¿æ¢ä¸ºè‡ªå·±æœ¬åœ°çš„è·¯å¾„ã€‚

- æ¨¡å‹å®šä¹‰å’Œæƒé‡ä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š https://cowtransfer.com/s/9bc43e0905cb40 

- ç¼–è¯‘å®Œæˆåï¼Œåœ¨é¡¹ç›®ç›®å½•è°ƒç”¨ `./build/demos/yolo_test`


## å·²ç»æ”¯æŒçš„ç®—å­
**æ€»ä½“ç†å¿µï¼šé€æ­¥ä¼˜åŒ–å·²ç»æœ‰çš„ç®—å­ï¼›æœ‰éœ€è¦çš„æ—¶å€™å†å¯¹æœªå®ç°çš„ç®—å­è¿›è¡Œå¼€å‘**

- Convolution 
- AdaptivePooling 
- MaxPooling 
- Expression(æŠ½è±¡è¯­æ³•æ ‘)
- Flatten, View(ç»´åº¦å±•å¹³å’Œå˜å½¢)
- Sigmoid 
- HardSigmoid 
- HardSwish 
- ReLU
- Linear(çŸ©é˜µç›¸ä¹˜)
- Softmax 
- BatchNorm
- Upsample
- SiLU
- Concat
- ConvTranspose

## ç›®å½•
**source**æ˜¯æºç ç›®å½•

1. **data/** æ˜¯å¼ é‡ç±»Tensorçš„å®ç°å’ŒTensoråˆå§‹åŒ–æ–¹æ³•
2. **layer/** æ˜¯ç®—å­çš„å®ç°
3. **parser/** æ˜¯Pnnxè¡¨è¾¾å¼çš„è§£æç±»
4. **runtime/** æ˜¯è®¡ç®—å›¾ç»“æ„ï¼Œè§£æå’Œè¿è¡Œæ—¶ç›¸å…³

**test**æ˜¯å•å…ƒæµ‹è¯•ç›®å½•ï¼ŒåŸºæœ¬åšåˆ°publicæ–¹æ³•å•å…ƒæµ‹è¯•æƒè¦†ç›–

**bench**æ˜¯google benchmark, åŒ…å«å¯¹MobilenetV3, Resnet18å’Œyolov5sçš„æ€§èƒ½æµ‹è¯•ã€‚

## æ€§èƒ½æµ‹è¯•
### æµ‹è¯•è®¾å¤‡

15 æ ¸å¿ƒçš„AMD EPYC 7543(éœ„é¾™) 32-Core Processor (Docker å®¹å™¨ï¼Œå®¿ä¸»æœºå…±æœ‰32æ ¸å¿ƒ)

### ç¼–è¯‘ç¯å¢ƒ

gcc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0

### æ€§èƒ½ç»“æœ
è€—æ—¶é€šè¿‡è¿ç»­äº”æ¬¡è¿è¡Œ,å¹¶ä»¥æ±‚å¹³å‡çš„æ–¹å¼è®¡ç®—

| **input size**         | **æ¨¡å‹åç§°**     | **è®¡ç®—è®¾å¤‡**              | **è€—æ—¶**         |
| ---------------------- | ---------------- | ------------------------- | ---------------- |
| 224Ã—224 batch = 8      | MobileNetV3Small | CPU(armadillo + openblas) | 6.76ms / image   |
| 224Ã—224 batch = 8      | ResNet18         | CPU(armadillo + openblas) | 23.53ms / image  |
| 224Ã—224 batch =16      | ResNet18         | CPU(armadillo + openblas) | 13.52ms / image  |
| 640Ã—640 batch = 8      | Yolov5nano       | CPU(armadillo + openblas) | 78.37ms / image  |
| **640Ã—640** batch = 8  | **Yolov5s**      | CPU(armadillo + openblas) | 177.54ms / image |
| **640Ã—640** batch = 16 | **Yolov5s**      | CPU(armadillo + openblas) | 134.57ms / image |

## è‡´è°¢

æ¨ç†æ¡†æ¶NCNNï¼Œå·²ç»åœ¨å€Ÿé‰´çš„ä»£ç ä¸­ä¿ç•™äº†NCNNçš„BSDåè®® https://github.com/Tencent/ncnn

ä¼˜ç§€çš„æ•°å­¦åº“Openblas: https://github.com/xianyi/OpenBLAS

ä¼˜ç§€çš„æ•°å­¦åº“Armadillo: https://arma.sourceforge.net/docs.html

ç»™äºˆæˆ‘çµæ„Ÿçš„Caffeæ¡†æ¶: https://github.com/BVLC/caffe

fmathæ¡†æ¶ï¼šhttps://github.com/herumi/fmath/
